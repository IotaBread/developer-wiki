<!doctype html>
<html lang="en-us">


<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Recipe Type</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/default.min.css">
    <link rel="stylesheet" href="/styles/style.min.css">
    <link rel="stylesheet" href="https://modder.wiki.quiltmc.org/dracula.css">

    <link rel="icon" type="image/png" sizes="32x32" href="https://quiltmc.org/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://quiltmc.org/favicon/favicon-16x16.png">
    <link rel="shortcut icon" href="https://quiltmc.org/favicon/favicon.ico">
    <link rel="canonical" href="https://modder.wiki.quiltmc.org/versions/1.19/data/recipes/recipe_type"/>

    <meta property="og:title" content="Recipe Type"/>
    <meta name="author" content="QuiltMC"/>
    <meta property="og:locale" content="en_US"/>
    <meta name="description" content="In this guide, we will create a simple recipe type."/>
    <meta property="og:description" content="In this guide, we will create a simple recipe type."/>
    <meta property="og:url" content="https://modder.wiki.quiltmc.org/versions/1.19/data/recipes/recipe_type"/>
    <meta property="og:site_name" content="Recipe Type"/>
    <meta property="og:image" content="https://quiltmc.org/assets/img/logo-square.png"/>
    <meta name="twitter:card" content="summary"/>
    <meta property="twitter:image" content="https://quiltmc.org/assets/img/logo-square.png"/>
    <meta property="twitter:title" content="Recipe Type"/>
    <meta name="twitter:site" content="@quilt_mc"/>
    <meta name="twitter:creator" content="@QuiltMC"/>

    <script src="https://kit.fontawesome.com/b1b70f724e.js" crossorigin="anonymous"></script>
    <script src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/languages/scala.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/languages/groovy.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/languages/gradle.min.js"></script>

    <script>hljs.highlightAll();</script>

    <style>
        .site-warning {
            background-color: #ff6f6f;
            color: white;
            padding: 1em;
        }

        .site-warning a {
            color: #000000;
        }

        .site-warning a:hover {
            color: #555;
        }

        @media (prefers-color-scheme: dark) {
            .site-warning {
                background-color: #c40000;
                color: white;
                padding: 1em;
            }

            .site-warning a {
                color: #000;
            }

            .site-warning a:hover {
                color: #555;
            }
        }
    </style>
    <script>
        function switchTab(evt, tabName) {
          let contents = document.getElementsByClassName("tab-contents");
          for (let i = 0; i < contents.length; i++) {
            if (contents[i].parentElement.classList.contains("has-lang-"+tabName)) {
              contents[i].style.display = "none";
            }
          }
          let tabs = document.getElementsByClassName("tab");
          for (let i = 0; i < tabs.length; i++) {
            if (tabs[i].parentElement.classList.contains("has-lang-"+tabName)) {
              tabs[i].className = tabs[i].className.replace(" is-active", "");
            }
          }
          let bodies = document.getElementsByClassName("lang-selected-"+tabName);
          for (let i = 0; i < bodies.length; i++) {
            bodies[i].style.display = "block";
          }
          evt.currentTarget.className += " is-active";
        }
    </script>
</head>

<body>

<nav class="navbar is-dark" role="navigation" aria-label="main navigation" data-controller="navbar">
    <div class="navbar-brand">
        <a class="navbar-item pr-6" href="/">
            <img src="https://quiltmc.org/assets/img/logo.svg" alt="Quilt Logo">

            <span class="ml-2">DevWiki</span>
        </a>

        <a class="navbar-item px-2 has-tooltip-arrow has-tooltip-bottom" style="display: none" id="language-switcher" data-tooltip="Switch Language">
            <i class="fak fa-language fa-2xl"></i>
        </a>

        <a class="navbar-item px-2 has-tooltip-arrow has-tooltip-bottom" id="theme-switcher" data-tooltip="Toggle Low Contrast">
            <span id="theme-normal-contrast">
                <i class="fas fa-circle-half-stroke"></i>
            </span>

            <span id="theme-low-contrast">
                <i class="fal fa-circle-half-stroke"></i>
            </span>
        </a>

        <a class="navbar-item px-2 has-tooltip-arrow has-tooltip-bottom" href="https://quiltmc.org/" data-tooltip="Website Home">
            <span><i class="fas fa-home"></i></span>
        </a>

        <a role="button" data-navbar-target="menu" data-action="click->navbar#toggle" class="navbar-burger" aria-label="menu" aria-expanded="false">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
    </div>

    <div class="navbar-menu" data-navbar-target="menu">
        <div class="navbar-end">
            <div class="navbar-item has-dropdown is-hoverable">
                <a href="/versions/" class="navbar-link is-arrowless ">
                    Versions
                </a>

                <div class="navbar-dropdown is-boxed">
                    <a href="https://modder.wiki.quiltmc.org/versions/1.19/" class = "navbar-item"> <span>Minecraft Version 1.19</span></a>                </div>
            </div>


            <div class="navbar-item has-dropdown is-hoverable">
                <a href="/libraries/" class="navbar-link is-arrowless ">
                    Libraries
                </a>

                <div class="navbar-dropdown is-boxed">
                        <a href="https://modder.wiki.quiltmc.org/libraries/brigadier/" class = "navbar-item"> <span>Brigadier</span></a>                </div>
            </div>

            <a href="https://github.com/QuiltMC/developer-wiki/tree/main" class="navbar-item has-icon" target="_blank">
                <span class="icon"><i class="fab fa-github"></i></span>
                <span class="is-hidden-desktop">GitHub</span>
            </a>
        </div>
    </div>
</nav>

<div> 	<article class="message is-danger mx-3 mt-3 mb-0">
		<div class="message-body has-text-centered">
			<h1>
				Notice: This website is still under development. Please report any issues at
				<a href="https://github.com/QuiltMC/developer-wiki">https://github.com/QuiltMC/developer-wiki</a>
			</h1>
		</div>
	</article>

	<section class="section">
	    <main class="container">
	        <div class="columns">
    <div class="column is-narrow" data-controller="sidebar">
        <div class="is-hidden-tablet">
            <button data-action="click->sidebar#toggle" class="button is-primary">
                <span class="icon"><i class="fas fa-ellipsis-h"></i></span>
                <span>Menu</span>
            </button>

            <br/>
            <br/>
        </div>

        <div class="box is-hidden-mobile is-sticky" data-sidebar-target="sidebar">
            <div class="menu">
                <ul class="menu-list">
                        <li><a href="https://modder.wiki.quiltmc.org/versions/1.19/">Minecraft Version 1.19</a></li>
    <li><a href="https://modder.wiki.quiltmc.org/versions/1.19/data/">Data</a>
        <ul>
            <li><a href="https://modder.wiki.quiltmc.org/versions/1.19/data/recipes/">Recipes</a>
                <ul>
                    <li><a href="https://modder.wiki.quiltmc.org/versions/1.19/data/recipes/recipe_type/">Recipe Type</a></li>
                    <li><a href="https://modder.wiki.quiltmc.org/versions/1.19/data/recipes/recipe_api/">Recipe API</a></li>
                </ul>
            </li>
        </ul>
    </li>
    <li><a href="https://modder.wiki.quiltmc.org/versions/1.19/entity/">Entities</a>
        <ul>
            <li><a href="https://modder.wiki.quiltmc.org/versions/1.19/entity/entity_attributes/">Entity Attributes</a></li>
        </ul>
    </li>
    <li><a href="https://modder.wiki.quiltmc.org/versions/1.19/getting_started/">Getting Started</a>
        <ul>
            <li><a href="https://modder.wiki.quiltmc.org/versions/1.19/getting_started/setup/">Setup</a>
                <ul>
                    <li><a href="https://modder.wiki.quiltmc.org/versions/1.19/getting_started/setup/migrating_from_fabric/">Migrating From Fabric</a></li>
                </ul>
            </li>
        </ul>
    </li>
    <li><a href="https://modder.wiki.quiltmc.org/versions/1.19/item/">Items</a>
        <ul>
            <li><a href="https://modder.wiki.quiltmc.org/versions/1.19/item/simple_item/">Your First Item</a></li>
        </ul>
    </li>
</ul>
                </ul>
            </div>
        </div>
    </div>

    <div class="content column">
        <h1><a href="#recipe-type" id="recipe-type">Recipe Type</a></h1>
<p>In this guide, we will create a simple recipe type.</p>
<p>A recipe type represents a group of recipes.</p>
<h2><a href="#creating-a-simple-recipe-type" id="creating-a-simple-recipe-type">Creating a simple recipe type</a></h2>
<p>To start to create a recipe, create a class that implements the <code>Recipe</code> interface, the generic type of it represents the kind of <code>Inventory</code> where this recipe will work.</p>
<!--- TODO: Refer to Inventory/BlockEntity tutorial -->
<p>The conventional way of specifying inputs and output, is to utilize <code>Ingredient</code> and <code>ItemStack</code> respectively - <code>Ingredient</code> is a generalized object that can match against stacks being backed by either a stack or tags. <!--- TODO: Link to Tags page --></p>
<p>You should also store the recipe identifier for identification and value filling.</p>
<div class="tab-holder">
<div class="tabs is-boxed">
<ul class="has-lang-java has-lang-kotlin has-lang-scala has-lang-groovy">
<li class="tab is-active" onclick="switchTab(event,'java')"><a>Java</a></li>
<li class="tab" onclick="switchTab(event,'kotlin')"><a>Kotlin</a></li>
<li class="tab" onclick="switchTab(event,'scala')"><a>Scala</a></li>
<li class="tab" onclick="switchTab(event,'groovy')"><a>Groovy (Mojmaps)</a></li>
</ul>
</div>
<div class="has-lang-java has-lang-kotlin has-lang-scala has-lang-groovy">
<section class="tab-contents lang-selected-java">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/java/src/main/java/org/quiltmc/wiki/recipes/MyRecipe.java" target="_blank"><code>MyRecipe.java</code></a>:</p>
<pre><code class="language-java">// ...
private final Identifier id;
private final Ingredient input;
private final ItemStack output;

public MyRecipe(Identifier id, Ingredient input, ItemStack output) {
	this.id = id;
	this.input = input;
	this.output = output;
}

@Override
public Identifier getId() {
	return this.id;
}
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-kotlin" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/kotlin/src/main/kotlin/org/quiltmc/wiki/recipes/MyRecipe.kt" target="_blank"><code>MyRecipe.kt</code></a>:</p>
<pre><code class="language-kotlin">// ...
data class MyRecipe(private val id: Identifier, private val input: Ingredient, private val output: ItemStack): Recipe&lt;Inventory&gt; {

    override fun getId(): Identifier = this.id
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-scala" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/scala/src/main/scala/org/quiltmc/wiki/recipes/MyRecipe.scala" target="_blank"><code>MyRecipe.scala</code></a>:</p>
<pre><code class="language-scala">// ...
class MyRecipe(private val id: Identifier, private val input: Ingredient, private val output: ItemStack) extends Recipe[Inventory] {

    override def getId: Identifier = id
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-groovy" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/groovy/src/main/groovy/org/quiltmc/wiki/recipes/MyRecipe.groovy" target="_blank"><code>MyRecipe.groovy</code></a>:</p>
<pre><code class="language-groovy">// ...
@TupleConstructor
class MyRecipe implements Recipe&lt;Container&gt; {

    final ResourceLocation id
    final Ingredient input
    final ItemStack output
// ...
</code></pre>
</section>
</div>
</div>
<p>
<h3><a href="#matching" id="matching">Matching</a></h3>
<p>The method <code>matches</code> returns whether this current recipe should be matched when retrieved via the <code>RecipeManager</code> - Match the inventory contents against the inputs here.</p>
<div class="tab-holder">
<div class="tabs is-boxed">
<ul class="has-lang-java has-lang-kotlin has-lang-scala has-lang-groovy">
<li class="tab is-active" onclick="switchTab(event,'java')"><a>Java</a></li>
<li class="tab" onclick="switchTab(event,'kotlin')"><a>Kotlin</a></li>
<li class="tab" onclick="switchTab(event,'scala')"><a>Scala</a></li>
<li class="tab" onclick="switchTab(event,'groovy')"><a>Groovy (Mojmaps)</a></li>
</ul>
</div>
<div class="has-lang-java has-lang-kotlin has-lang-scala has-lang-groovy">
<section class="tab-contents lang-selected-java">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/java/src/main/java/org/quiltmc/wiki/recipes/MyRecipe.java" target="_blank"><code>MyRecipe.java</code></a>:</p>
<pre><code class="language-java">// ...
@Override
public boolean matches(Inventory inventory, World world) {
	return this.input.test(inventory.getStack(0));
}
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-kotlin" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/kotlin/src/main/kotlin/org/quiltmc/wiki/recipes/MyRecipe.kt" target="_blank"><code>MyRecipe.kt</code></a>:</p>
<pre><code class="language-kotlin">// ...
override fun matches(inventory: Inventory, world: World): Boolean = this.input.test(inventory.getStack(0))
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-scala" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/scala/src/main/scala/org/quiltmc/wiki/recipes/MyRecipe.scala" target="_blank"><code>MyRecipe.scala</code></a>:</p>
<pre><code class="language-scala">// ...
override def matches(inventory: Inventory, world: World): Boolean = input.test(inventory.getStack(0))
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-groovy" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/groovy/src/main/groovy/org/quiltmc/wiki/recipes/MyRecipe.groovy" target="_blank"><code>MyRecipe.groovy</code></a>:</p>
<pre><code class="language-groovy">// ...
@Override
boolean matches(Container container, Level level) {
    this.input.test(container.getItem(0))
}
// ...
</code></pre>
</section>
</div>
</div>
<p>
<h3><a href="#outputs" id="outputs">Outputs</a></h3>
<p>Outputting has two parts, <code>getOutput</code> and <code>craft</code>, the first being a view of the output and the latter being a copy of the output that may be modified.</p>
<div class="tab-holder">
<div class="tabs is-boxed">
<ul class="has-lang-java has-lang-kotlin has-lang-scala has-lang-groovy">
<li class="tab is-active" onclick="switchTab(event,'java')"><a>Java</a></li>
<li class="tab" onclick="switchTab(event,'kotlin')"><a>Kotlin</a></li>
<li class="tab" onclick="switchTab(event,'scala')"><a>Scala</a></li>
<li class="tab" onclick="switchTab(event,'groovy')"><a>Groovy (Mojmaps)</a></li>
</ul>
</div>
<div class="has-lang-java has-lang-kotlin has-lang-scala has-lang-groovy">
<section class="tab-contents lang-selected-java">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/java/src/main/java/org/quiltmc/wiki/recipes/MyRecipe.java" target="_blank"><code>MyRecipe.java</code></a>:</p>
<pre><code class="language-java">// ...
@Override
public ItemStack getOutput() {
	return this.output;
}

@Override
public ItemStack craft(Inventory inventory) {
	return this.output.copy();
}
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-kotlin" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/kotlin/src/main/kotlin/org/quiltmc/wiki/recipes/MyRecipe.kt" target="_blank"><code>MyRecipe.kt</code></a>:</p>
<pre><code class="language-kotlin">// ...
override fun getOutput(): ItemStack = this.output

override fun craft(inventory: Inventory?): ItemStack = this.output.copy()
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-scala" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/scala/src/main/scala/org/quiltmc/wiki/recipes/MyRecipe.scala" target="_blank"><code>MyRecipe.scala</code></a>:</p>
<pre><code class="language-scala">// ...
override def getOutput: ItemStack = output

override def craft(inventory: Inventory): ItemStack = output.copy
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-groovy" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/groovy/src/main/groovy/org/quiltmc/wiki/recipes/MyRecipe.groovy" target="_blank"><code>MyRecipe.groovy</code></a>:</p>
<pre><code class="language-groovy">// ...
@Override
ItemStack getResultItem() {
    this.output
}

@Override
ItemStack assemble(Container container) {
    this.output.copy()
}
// ...
</code></pre>
</section>
</div>
</div>
<p>
<h3><a href="#serializer" id="serializer">Serializer</a></h3>
<p>The serializer of a recipe type specifies the serialization and deserialization of recipes of that type into JSON and packet representation.</p>
<p>To start to create a serializer, create a class that implements <code>QuiltRecipeSerializer</code> (An extended version of <code>RecipeSerializer</code> that allows for serialization of recipe objects into JSON).</p>
<h4><a href="#json" id="json">JSON</a></h4>
<p>In <code>read</code> you must read the JSON object and convert it into a new recipe object of your type.</p>
<p>In <code>toJson</code> you must convert the recipe object into a valid equivalent JSON object - You can check if it's being serialized correctly via dumping the recipes with the <code>quilt.recipe.dump</code> property (<code>-Dquilt.recipe.dump=true</code> in the VM options) and checking the outputted recipes.</p>
<div class="tab-holder">
<div class="tabs is-boxed">
<ul class="has-lang-java has-lang-kotlin has-lang-scala has-lang-groovy">
<li class="tab is-active" onclick="switchTab(event,'java')"><a>Java</a></li>
<li class="tab" onclick="switchTab(event,'kotlin')"><a>Kotlin</a></li>
<li class="tab" onclick="switchTab(event,'scala')"><a>Scala</a></li>
<li class="tab" onclick="switchTab(event,'groovy')"><a>Groovy (Mojmaps)</a></li>
</ul>
</div>
<div class="has-lang-java has-lang-kotlin has-lang-scala has-lang-groovy">
<section class="tab-contents lang-selected-java">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/java/src/main/java/org/quiltmc/wiki/recipes/MyRecipe.java" target="_blank"><code>MyRecipe.java</code></a>:</p>
<pre><code class="language-java">// ...
@Override
public MyRecipe read(Identifier id, JsonObject json) {
	// Gets the object specified by the &quot;input&quot; key
	var inputObject = json.getAsJsonObject(&quot;input&quot;);
	// Helper method to read Ingredient from JsonElement
	var input = Ingredient.fromJson(inputObject);
	// Gets the string in the &quot;output&quot; key
	var outputIdentifier = json.get(&quot;output&quot;).getAsString();
	// Gets the integer in the &quot;count&quot; key, fallbacking to 1 if it does not exist
	var count = JsonHelper.getInt(json, &quot;count&quot;, 1);
	// Attempts to get the item in &quot;output&quot; with the registry and creates a stack with it
	var output = new ItemStack(Registry.ITEM.getOrEmpty(new Identifier(outputIdentifier))
			.orElseThrow(() -&gt; new IllegalStateException(&quot;Item &quot; + outputIdentifier + &quot; does not exist&quot;)), count);

	return new MyRecipe(id, input, output);
}

@Override
public JsonObject toJson(MyRecipe recipe) {
	var obj = new JsonObject();
	// Puts the serialized ingredient json element into the &quot;input&quot; key
	obj.add(&quot;input&quot;, recipe.input.toJson());
	// Checks if the output count is higher than the default, and if it is, adds into the &quot;count&quot; key
	if (recipe.output.getCount() &gt; 1) {
		obj.addProperty(&quot;count&quot;, recipe.output.getCount());
	}
	// Gets the output identifier from the registry and adds it into the &quot;output&quot; key
	obj.addProperty(&quot;output&quot;, Registry.ITEM.getId(recipe.output.getItem()).toString());

	return obj;
}
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-kotlin" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/kotlin/src/main/kotlin/org/quiltmc/wiki/recipes/MyRecipe.kt" target="_blank"><code>MyRecipe.kt</code></a>:</p>
<pre><code class="language-kotlin">// ...
override fun read(id: Identifier, json: JsonObject): MyRecipe {
    // Gets the object specified by the &quot;input&quot; key
    val inputObject = json.getAsJsonObject(&quot;input&quot;)
    // Helper method to read Ingredient from JsonElement
    val input = Ingredient.fromJson(inputObject)
    // Gets the string in the &quot;output&quot; key
    val outputIdentifier = json.get(&quot;output&quot;).asString
    // Gets the integer in the &quot;count&quot; key, fallbacking to 1 if it does not exist
    val count = JsonHelper.getInt(json, &quot;count&quot;, 1)
    // Attempts to get the item in &quot;output&quot; with the registry and creates a stack with it
    val output = ItemStack(
        Registry.ITEM.getOrEmpty(Identifier(outputIdentifier))
        .orElseThrow { IllegalStateException(&quot;Item $outputIdentifier does not exist&quot;) }, count)

    return MyRecipe(id, input, output)
}

override fun toJson(recipe: MyRecipe): JsonObject {
    val obj = JsonObject()
    // Puts the serialized ingredient json element into the &quot;input&quot; key
    obj.add(&quot;input&quot;, recipe.input.toJson())
    // Checks if the output count is higher than the default, and if it is, adds into the &quot;count&quot; key
    if (recipe.output.count &gt; 1) {
        obj.addProperty(&quot;count&quot;, recipe.output.count)
    }
    // Gets the output identifier from the registry and adds it into the &quot;output&quot; key
    obj.addProperty(&quot;output&quot;, Registry.ITEM.getId(recipe.output.item).toString())

    return obj
}
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-scala" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/scala/src/main/scala/org/quiltmc/wiki/recipes/MyRecipe.scala" target="_blank"><code>MyRecipe.scala</code></a>:</p>
<pre><code class="language-scala">// ...
override def read(id: Identifier, json: JsonObject): MyRecipe = {
    // Gets the object specified by the &quot;input&quot; key
    val inputObject = json.getAsJsonObject(&quot;input&quot;)
    // Helper method to read Ingredient from JsonElement
    val input = Ingredient.fromJson(inputObject)
    // Gets the string in the &quot;output&quot; key
    val outputIdentifier = json.get(&quot;output&quot;).getAsString
    // Gets the integer in the &quot;count&quot; key, fallbacking to 1 if it does not exist
    val count = JsonHelper.getInt(json, &quot;count&quot;, 1)
    // Attempts to get the item in &quot;output&quot; with the registry and creates a stack with it
    val output = ItemStack(Registry.ITEM.getOrEmpty(Identifier(outputIdentifier))
            .orElseThrow(() =&gt; IllegalStateException(s&quot;Item $outputIdentifier does not exist&quot;)), count)

    MyRecipe(id, input, output)
}

override def toJson(recipe: MyRecipe): JsonObject = {
    val obj = JsonObject()
    // Puts the serialized ingredient json element into the &quot;input&quot; key
    obj.add(&quot;input&quot;, recipe.input.toJson)
    // Checks if the output count is higher than the default, and if it is, adds into the &quot;count&quot; key
    if (recipe.output.getCount &gt; 1) {
        obj.addProperty(&quot;count&quot;, recipe.output.getCount)
    }
    // Gets the output identifier from the registry and adds it into the &quot;output&quot; key
    obj.addProperty(&quot;output&quot;, Registry.ITEM.getId(recipe.output.getItem).toString)

    obj
}
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-groovy" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/groovy/src/main/groovy/org/quiltmc/wiki/recipes/MyRecipe.groovy" target="_blank"><code>MyRecipe.groovy</code></a>:</p>
<pre><code class="language-groovy">// ...
@Override
MyRecipe fromJson(ResourceLocation id, JsonObject json) {
    // Gets the object specified by the &quot;input&quot; key
    def inputObject = json.getAsJsonObject('input')
    // Helper method to read Ingredient from JsonElement
    def input = Ingredient.fromJson(inputObject)
    // Gets the string in the &quot;output&quot; key
    def outputIdentifier = json.get('output').asString
    // Gets the integer in the &quot;count&quot; key, fallbacking to 1 if it does not exist
    def count = GsonHelper.getAsInt(json, 'count', 1)
    // Attempts to get the item in &quot;output&quot; with the registry and creates a stack with it
    def output = new ItemStack(Registry.ITEM.getOptional(new ResourceLocation(outputIdentifier))
            .orElseThrow {
                new IllegalStateException(&quot;Item $outputIdentifier does not exist&quot;)
            }, count)

    new MyRecipe(id, input, output)
}

@Override
JsonObject toJson(MyRecipe recipe) {
    def obj = new JsonObject()
    // Puts the serialized ingredient json element into the &quot;input&quot; key
    obj.add('input', recipe.input.toJson())
    // Checks if the output count is higher than the default, and if it is, adds into the &quot;count&quot; key
    if (recipe.output.count &gt; 1) {
        obj.addProperty('count', recipe.output.count)
    }
    // Gets the output identifier from the registry and adds it into the &quot;output&quot; key
    obj.addProperty('output', Registry.ITEM.getId(recipe.output.item).toString())

    obj
}
// ...
</code></pre>
</section>
</div>
</div>
<p>
<h4><a href="#packet" id="packet">Packet</a></h4>
<p>You must create and read recipe packets, so the server is able to send the recipes to the clients, and be converted correctly, failing to implement the packet reading and writing might result in desynchronizations.</p>
<p>It is imperative that you read values in the same order that you wrote them.</p>
<div class="tab-holder">
<div class="tabs is-boxed">
<ul class="has-lang-java has-lang-kotlin has-lang-scala has-lang-groovy">
<li class="tab is-active" onclick="switchTab(event,'java')"><a>Java</a></li>
<li class="tab" onclick="switchTab(event,'kotlin')"><a>Kotlin</a></li>
<li class="tab" onclick="switchTab(event,'scala')"><a>Scala</a></li>
<li class="tab" onclick="switchTab(event,'groovy')"><a>Groovy (Mojmaps)</a></li>
</ul>
</div>
<div class="has-lang-java has-lang-kotlin has-lang-scala has-lang-groovy">
<section class="tab-contents lang-selected-java">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/java/src/main/java/org/quiltmc/wiki/recipes/MyRecipe.java" target="_blank"><code>MyRecipe.java</code></a>:</p>
<pre><code class="language-java">// ...
@Override
public MyRecipe read(Identifier id, PacketByteBuf buf) {
	var input = Ingredient.fromPacket(buf);
	var output = buf.readItemStack();

	return new MyRecipe(id, input, output);
}

@Override
public void write(PacketByteBuf buf, MyRecipe recipe) {
	recipe.input.write(buf);
	buf.writeItemStack(recipe.output);
}
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-kotlin" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/kotlin/src/main/kotlin/org/quiltmc/wiki/recipes/MyRecipe.kt" target="_blank"><code>MyRecipe.kt</code></a>:</p>
<pre><code class="language-kotlin">// ...
override fun read(id: Identifier, buf: PacketByteBuf): MyRecipe {
    val input = Ingredient.fromPacket(buf)
    val output = buf.readItemStack()

    return MyRecipe(id, input, output)
}

override fun write(buf: PacketByteBuf, recipe: MyRecipe) {
    recipe.input.write(buf)
    buf.writeItemStack(recipe.output)
}
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-scala" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/scala/src/main/scala/org/quiltmc/wiki/recipes/MyRecipe.scala" target="_blank"><code>MyRecipe.scala</code></a>:</p>
<pre><code class="language-scala">// ...
override def read(id: Identifier, buf: PacketByteBuf): MyRecipe = {
    val input = Ingredient.fromPacket(buf)
    val output = buf.readItemStack

    MyRecipe(id, input, output)
}

override def write(buf: PacketByteBuf, recipe: MyRecipe): Unit = {
    recipe.input.write(buf)
    buf.writeItemStack(recipe.output)
}
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-groovy" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/groovy/src/main/groovy/org/quiltmc/wiki/recipes/MyRecipe.groovy" target="_blank"><code>MyRecipe.groovy</code></a>:</p>
<pre><code class="language-groovy">// ...
@Override
MyRecipe fromNetwork(ResourceLocation id, FriendlyByteBuf buf) {
    def input = Ingredient.fromNetwork(buf)
    def output = buf.readItem()

    new MyRecipe(id, input, output)
}

@Override
void toNetwork(FriendlyByteBuf buf, MyRecipe recipe) {
    recipe.input.toNetwork(buf)
    buf.writeItem(recipe.output)
}
// ...
</code></pre>
</section>
</div>
</div>
<p>
<h3><a href="#recipe-type" id="recipe-type">Recipe Type</a></h3>
<p>Creating the recipe type is as simple as instantiating <code>RecipeType</code>, unfortunately it is an interface, so you have to subclass it.</p>
<div class="tab-holder">
<div class="tabs is-boxed">
<ul class="has-lang-java has-lang-kotlin has-lang-scala has-lang-groovy">
<li class="tab is-active" onclick="switchTab(event,'java')"><a>Java</a></li>
<li class="tab" onclick="switchTab(event,'kotlin')"><a>Kotlin</a></li>
<li class="tab" onclick="switchTab(event,'scala')"><a>Scala</a></li>
<li class="tab" onclick="switchTab(event,'groovy')"><a>Groovy (Mojmaps)</a></li>
</ul>
</div>
<div class="has-lang-java has-lang-kotlin has-lang-scala has-lang-groovy">
<section class="tab-contents lang-selected-java">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/java/src/main/java/org/quiltmc/wiki/recipes/Recipes.java" target="_blank"><code>Recipes.java</code></a>:</p>
<pre><code class="language-java">// ...
public static final RecipeType&lt;MyRecipe&gt; MY_RECIPE = new RecipeType&lt;&gt;() {}; // Subclasses it anonymously
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-kotlin" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/kotlin/src/main/kotlin/org/quiltmc/wiki/recipes/Recipes.kt" target="_blank"><code>Recipes.kt</code></a>:</p>
<pre><code class="language-kotlin">// ...
val MY_RECIPE: RecipeType&lt;MyRecipe&gt; = object: RecipeType&lt;MyRecipe&gt; {}
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-scala" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/scala/src/main/scala/org/quiltmc/wiki/recipes/Recipes.scala" target="_blank"><code>Recipes.scala</code></a>:</p>
<pre><code class="language-scala">// ...
final val MY_RECIPE: RecipeType[MyRecipe] = new RecipeType[MyRecipe] {}
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-groovy" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/groovy/src/main/groovy/org/quiltmc/wiki/recipes/Recipes.groovy" target="_blank"><code>Recipes.groovy</code></a>:</p>
<pre><code class="language-groovy">// ...
static final RecipeType MY_RECIPE = new RecipeType() {} // Subclasses it anonymously
// ...
</code></pre>
</section>
</div>
</div>
<p>
<h3><a href="#registration" id="registration">Registration</a></h3>
<p>You must register your serializer and your type, so Minecraft knows about them.</p>
<div class="tab-holder">
<div class="tabs is-boxed">
<ul class="has-lang-java has-lang-kotlin has-lang-scala has-lang-groovy">
<li class="tab is-active" onclick="switchTab(event,'java')"><a>Java</a></li>
<li class="tab" onclick="switchTab(event,'kotlin')"><a>Kotlin</a></li>
<li class="tab" onclick="switchTab(event,'scala')"><a>Scala</a></li>
<li class="tab" onclick="switchTab(event,'groovy')"><a>Groovy (Mojmaps)</a></li>
</ul>
</div>
<div class="has-lang-java has-lang-kotlin has-lang-scala has-lang-groovy">
<section class="tab-contents lang-selected-java">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/java/src/main/java/org/quiltmc/wiki/recipes/Recipes.java" target="_blank"><code>Recipes.java</code></a>:</p>
<pre><code class="language-java">// ...
Registry.register(Registry.RECIPE_TYPE, new Identifier(modId, &quot;my_recipe&quot;), MY_RECIPE);
Registry.register(Registry.RECIPE_SERIALIZER, new Identifier(modId, &quot;my_recipe&quot;), MY_RECIPE_SERIALIZER);
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-kotlin" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/kotlin/src/main/kotlin/org/quiltmc/wiki/recipes/Recipes.kt" target="_blank"><code>Recipes.kt</code></a>:</p>
<pre><code class="language-kotlin">// ...
registryScope(modId) {
    MY_RECIPE withPath &quot;my_recipe&quot; toRegistry Registry.RECIPE_TYPE
    MY_RECIPE_SERIALIZER withPath &quot;my_recipe&quot; toRegistry Registry.RECIPE_SERIALIZER
}
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-scala" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/scala/src/main/scala/org/quiltmc/wiki/recipes/Recipes.scala" target="_blank"><code>Recipes.scala</code></a>:</p>
<pre><code class="language-scala">// ...
Registry.register(Registry.RECIPE_TYPE, Identifier(modId, &quot;my_recipe&quot;), Recipes.MY_RECIPE)
Registry.register(Registry.RECIPE_SERIALIZER, Identifier(modId, &quot;my_recipe&quot;), Recipes.MY_RECIPE_SERIALIZER)
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-groovy" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/groovy/src/main/groovy/org/quiltmc/wiki/recipes/Recipes.groovy" target="_blank"><code>Recipes.groovy</code></a>:</p>
<pre><code class="language-groovy">// ...
Registry.RECIPE_TYPE[new ResourceLocation(modId, 'my_recipe')] = MY_RECIPE
Registry.RECIPE_SERIALIZER[new ResourceLocation(modId, 'my_recipe')] = MY_RECIPE_SERIALIZER
// ...
</code></pre>
</section>
</div>
</div>
<p>
<p>Additionally, you also have to specify them in your recipe class.</p>
<div class="tab-holder">
<div class="tabs is-boxed">
<ul class="has-lang-java has-lang-kotlin has-lang-scala has-lang-groovy">
<li class="tab is-active" onclick="switchTab(event,'java')"><a>Java</a></li>
<li class="tab" onclick="switchTab(event,'kotlin')"><a>Kotlin</a></li>
<li class="tab" onclick="switchTab(event,'scala')"><a>Scala</a></li>
<li class="tab" onclick="switchTab(event,'groovy')"><a>Groovy (Mojmaps)</a></li>
</ul>
</div>
<div class="has-lang-java has-lang-kotlin has-lang-scala has-lang-groovy">
<section class="tab-contents lang-selected-java">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/java/src/main/java/org/quiltmc/wiki/recipes/MyRecipe.java" target="_blank"><code>MyRecipe.java</code></a>:</p>
<pre><code class="language-java">// ...
@Override
public RecipeSerializer&lt;?&gt; getSerializer() {
	return Recipes.MY_RECIPE_SERIALIZER;
}

@Override
public RecipeType&lt;?&gt; getType() {
	return Recipes.MY_RECIPE;
}
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-kotlin" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/kotlin/src/main/kotlin/org/quiltmc/wiki/recipes/MyRecipe.kt" target="_blank"><code>MyRecipe.kt</code></a>:</p>
<pre><code class="language-kotlin">// ...
override fun getSerializer(): RecipeSerializer&lt;*&gt; = MY_RECIPE_SERIALIZER

override fun getType(): RecipeType&lt;*&gt; = MY_RECIPE
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-scala" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/scala/src/main/scala/org/quiltmc/wiki/recipes/MyRecipe.scala" target="_blank"><code>MyRecipe.scala</code></a>:</p>
<pre><code class="language-scala">// ...
override def getSerializer: RecipeSerializer[_] = Recipes.MY_RECIPE_SERIALIZER

override def getType: RecipeType[_] = Recipes.MY_RECIPE
// ...
</code></pre>
</section>
<section class="tab-contents lang-selected-groovy" style="display:none">
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/groovy/src/main/groovy/org/quiltmc/wiki/recipes/MyRecipe.groovy" target="_blank"><code>MyRecipe.groovy</code></a>:</p>
<pre><code class="language-groovy">// ...
@Override
RecipeSerializer getSerializer() {
    Recipes.MY_RECIPE_SERIALIZER
}

@Override
RecipeType getType() {
    Recipes.MY_RECIPE
}
// ...
</code></pre>
</section>
</div>
</div>
<p>
<h3><a href="#using-your-recipe" id="using-your-recipe">Using your recipe</a></h3>
<h4><a href="#creating-recipe-json-files" id="creating-recipe-json-files">Creating recipe JSON files</a></h4>
<p>Now that you have created and registered your recipe type, it's time to make a few recipes.</p>
<p>Recipes should be located inside <code>resources/data/[namespace]/recipes</code>; its id will be composed of the namespace to which it was added, and the file path with its file name.</p>
<p>All recipes have different structures, the only common denominator between all of them is the field <code>&quot;type&quot;</code>, which specifies the identifier of the recipe type - so in our case, <code>&quot;example:my_recipe&quot;</code>; The remaining values are dependent on the serializer.</p>
<p>For instance, a recipe of ours that inputs an iron ingot and outputs two apples would be:</p>
<p>From <a href="https://github.com/QuiltMC/developer-wiki/tree/main/wiki/versions/1.19/data/recipes/java/src/main/resources/data/recipes/recipes/fun.json" target="_blank"><code>fun.json</code></a>:</p>
<pre><code class="language-json">{
  &quot;type&quot;: &quot;recipes:my_recipe&quot;,
  &quot;input&quot;: {
    &quot;item&quot;: &quot;minecraft:iron_ingot&quot;
  },
  &quot;output&quot;: &quot;minecraft:apple&quot;,
  &quot;count&quot;: 2
}

</code></pre>
<h4><a href="#retrieving-your-recipes-in-code" id="retrieving-your-recipes-in-code">Retrieving your recipes in code</a></h4>
<p>Recipes must be retrieved from the <code>RecipeManager</code>, which can be fetched from either a <code>World</code> or the <code>MinecraftServer</code>. The recipe manager has a few methods for recipe retrieving, such as:</p>
<ul>
    <li><code>getFirstMatch</code> - Gets the first recipe of a type that returned <code>true</code> for <code>matches</code>.</li>
    <li><code>listAllOfType</code> - Gets all recipes of a type.</li>
    <li><code>getAllMatches</code> - Gets all recipes of a type that returned <code>true</code> for <code>matches</code>.</li>
</ul>
<p>The methods that get matching recipes require you to pass an inventory that matches the specified in the recipe generic.</p>
    </div>
</div>
	    </main>
	</section>
</div>

<footer class="footer">
    <div class="content">
        <div class="columns">
            <div class="column is-half is-offset-one-quarter">
                <div class="button-grid">
                    <a title="Discord" class="button is-discord is-rounded" target="_blank"
                       href="https://discord.quiltmc.org">
                        <span class="icon"><i class="fab fa-discord"></i></span>
                    </a>

                    <a title="Forum" class="button is-gradle is-rounded"
                       target="_blank"
                       href="https://forum.quiltmc.org">
                        <span class="icon"><i class="fab fa-discourse"></i></span>
                    </a>

                    <a title="GitHub" class="button is-github is-rounded"
                       target="_blank"
                       href="https://github.com/QuiltMC">
                        <span class="icon"><i class="fab fa-github"></i></span>
                    </a>

                    <a title="Twitter" class="button is-twitter is-rounded"
                       target="_blank"
                       href="https://twitter.com/quilt_mc">
                        <span class="icon"><i class="fab fa-twitter"></i></span>
                    </a>

                    <a title="Mastodon" class="button is-mastodon is-rounded"
                       target="_blank"
                       rel="me"
                       href="https://tech.lgbt/@quiltmc">
                        <span class="icon"><i class="fab fa-mastodon"></i></span>
                    </a>

                    <a title="Twitch" class="button is-primary is-rounded" target="_blank"
                       href="https://twitch.tv/quiltmc">
                        <span class="icon"><i class="fab fa-twitch"></i></span>
                    </a>

                    <a title="RSS" class="button is-rss is-rounded" target="_blank"
                       href="https://quiltmc.org/feed.xml">
                        <span class="icon"><i class="fa-solid fa-rss"></i></span>
                    </a>
                </div>

                <br/>

                <div class="has-text-centered">
                    <p>
                        <strong>Copyright &copy; 2022 Quilt Project</strong>
                    </p>

                    <p>
                        Quilt is not an official Minecraft product, and is not
                        approved by or associated with Mojang Studios.
                        "Minecraft" is a trademark of Mojang AB and any usage
                        of the Minecraft brand on this site is used in
                        accordance with Mojang Studios'
                        <a href="https://account.mojang.com/terms?ref=ft#brand" target="_blank">Brand and Asset
                            Guidelines</a>.
                    </p>

                    <p>
                        All logos used on this site are the property of their respective owners. The
                        CurseForge logo recreation we use in a few places on this site
                        <a href="https://gist.github.com/thecodewarrior/110057b210551c4ecf2c9be6d58ff824"
                           target="_blank">was
                            created by thecodewarrior</a>.
                    </p>

                    <p>
                        Made with <i class="fak fa-2xl fa-pumpkin"></i>, <a href="https://bulma.io">Bulma</a> and
                        <a href="https://github.com/CreativeBulma">the CreativeBulma extensions</a>.
                    </p>
                </div>
            </div>
        </div>
    </div>
</footer>

<div class="modal" id="language-modal">
	<div class="modal-background" id="language-modal-background" data-action="click->languages#hide"></div>

	<div class="modal-content">
		<section class="box">
			We're not quite ready for this to be used just yet, but stay tuned!
		</section>

		<div class="is-flex is-flex-direction-row mt-3">
			<a class="button is-primary" id="language-modal-close-button" aria-label="close" data-action="click->languages#hide">
				<span class="icon"><i class="fas fa-x"></i></span>
				<span>Close</span>
			</a>
		</div>
	</div>
</div>

<script src="/bundle.js"></script>

</body>
</html>
